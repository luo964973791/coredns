###  docker搭建coredns

```javascript
mkdir -p /etc/coredns
cat > /etc/coredns/Corefile <<EOF
.:53 {
    hosts /etc/coredns/hostsfile {
        fallthrough
    }
    forward . 8.8.8.8:53
    log
}
EOF


cat > /etc/coredns/hostsfile <<EOF
172.27.0.3 www.test.com
EOF
```

###  本台服务器的IP地址:53:53

```javascript
docker run -d --name coredns \
  --restart=always \
  -v /etc/coredns/:/etc/coredns/ \
  -p $(hostname -I |awk '{print $1}'):53:53/udp \
  coredns/coredns:1.9.1 -conf /etc/coredns/Corefile
```


###  测试www.test.com是否解析到服务器IP地址.

```javascript
vi /etc/resolv.conf
# Generated by NetworkManager
nameserver 172.27.0.3

#反向解析命令
dig -x $(hostname -I |awk '{print $1}')

#正向解析命令
dig {域名}
```
